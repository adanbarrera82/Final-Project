<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Study Group</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="bg-light">

  <div class="container py-5">
    <h2 class="text-center mb-4">➕ Add Study Group</h2>

    <form method="POST" class="card shadow p-4 mx-auto" style="max-width: 500px;">
      <div class="mb-3">
        <label for="group_name" class="form-label">Group Name</label>
        <input type="text" class="form-control" name="group_name" id="group_name" required>
      </div>

      <div class="mb-3">
        <label for="subject" class="form-label">Subject</label>
        <select class="form-control" name="subject" id="subject" required onchange="toggleCustomSubject()">
          <option value="">Select a subject</option>
          <option value="Computer Science">Computer Science</option>
          <option value="Mathematics">Mathematics</option>
          <option value="Physics">Physics</option>
          <option value="Chemistry">Chemistry</option>
          <option value="Biology">Biology</option>
          <option value="Engineering">Engineering</option>
          <option value="Business">Business</option>
          <option value="Economics">Economics</option>
          <option value="Psychology">Psychology</option>
          <option value="English">English</option>
          <option value="History">History</option>
          <option value="Political Science">Political Science</option>
          <option value="Statistics">Statistics</option>
          <option value="Art">Art</option>
          <option value="Music">Music</option>
          <option value="Other">Other</option>
        </select>
      </div>

      <div class="mb-3" id="customSubjectDiv" style="display: none;">
        <label for="custom_subject" class="form-label">Enter Custom Subject</label>
        <input type="text" class="form-control" name="custom_subject" id="custom_subject">
      </div>

      <div class="mb-3">
        <label for="course_number" class="form-label">Course Number (Optional)</label>
        <input type="text" class="form-control" name="course_number" id="course_number" placeholder="e.g., CS 101, MATH 250">
      </div>

      <div class="mb-3">
        <label for="expiration_date" class="form-label">Expiration Date (Optional)</label>
        <input type="datetime-local" class="form-control" name="expiration_date" id="expiration_date">
        <small class="form-text text-muted">Group will be automatically deleted after this date.</small>
      </div>

      <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea class="form-control" name="description" id="description" rows="3" required></textarea>
      </div>

      <button type="submit" class="btn btn-primary w-100">Add Group</button>
    </form>

    <div class="text-center mt-3">
      <a href="{{ url_for('index') }}" class="btn btn-outline-secondary">⬅ Back to Home</a>
    </div>
  </div>

  <script>
    function toggleCustomSubject() {
      const subjectSelect = document.getElementById('subject');
      const customSubjectDiv = document.getElementById('customSubjectDiv');
      const customSubjectInput = document.getElementById('custom_subject');

      if (subjectSelect.value === 'Other') {
        customSubjectDiv.style.display = 'block';
        customSubjectInput.required = true;
      } else {
        customSubjectDiv.style.display = 'none';
        customSubjectInput.required = false;
        customSubjectInput.value = '';
      }
    }
  </script>

</body>
</html>